{"mappings":"AAAAA,EAAE,eAAeC,GAAG,UAAU,SAAUC,GAGpCA,EAAMC,iBAEN,IAAIC,EAAOC,KAEPC,GADSN,EAAE,UAAWI,GACf,IAAIG,UACXC,EAAQR,EAAE,oBAwDd,OArDAA,EAAE,UAAWI,GAAMK,IAAI,eACfT,EAAN,kBAAmBI,GAAMM,KAAK,WAAW,IAE3CJ,EAAKK,OAAQ,MAASX,EAAE,eAAgBI,GAAMK,OAC9CH,EAAKK,OAAQ,QAAWX,EAAE,iBAAkBI,GAAMK,OAClDH,EAAKK,OAAQ,QAAWX,EAAE,iBAAkBI,GAAMK,OAClDH,EAAKK,OAAQ,QAAWX,EAAE,iBAAkBI,GAAMK,OAClDH,EAAKK,OAAQ,UAAYX,EAAE,mBAAoBI,GAAMK,OAGrDD,EAAMI,MAAK,SAAUC,EAAKC,GACtB,IAAIC,EAAOD,EAAKN,MACXO,GACDf,EAAEY,KAAMG,GAAM,SAAUC,EAAKC,GACzBX,EAAKK,OAAQK,EAAKC,GACtBC,QAAQC,IAAIb,E,OAKpBN,EAAEoB,KAAK,CACHC,IAAK,WACLC,KAAM,OACNhB,KAAMA,EACNiB,OAAO,EACPC,SAAU,OACVC,aAAa,EACbC,aAAa,EACbC,IAAK,WACD,IAAIC,EAAQ5B,EAAE6B,aAAaF,MAa3B,OAXKC,EAAME,QACPF,EAAME,OAAOC,iBAAkB,YAAY,SAASC,GAChD,GAAKA,EAAEC,iBAAmB,CACtB,IAAIC,EAAaF,EAAIG,OAASH,EAAEI,MAAU,IACtCF,EAAaA,EAAWG,QAAQ,GACpCrC,EAAE,UAAWI,GACRkC,KAAMJ,EAAa,I,KAE7B,GAGAN,C,EAEXW,MAAO,SAAUC,EAAOC,G,EAGxBC,SAAU,WAENtC,EAAKuC,O,KAIN,C","sources":["src/js/main.js"],"sourcesContent":["$('.modal-form').on('submit', function (event) {\n\n    // event.stopPropagation();\n    event.preventDefault();\n\n    let form = this,\n        submit = $('.submit', form),\n        data = new FormData(),\n        files = $('input[type=file]')\n\n\n    $('.submit', form).val('Отправка...');\n    $('input, textarea', form).attr('disabled','');\n\n    data.append( 'tel', \t\t$('[name=\"tel\"]', form).val());\n    data.append( 'brand', \t\t$('[name=\"brand\"]', form).val());\n    data.append( 'model', \t\t$('[name=\"model\"]', form).val());\n    data.append( 'price', \t\t$('[name=\"price\"]', form).val());\n    data.append( 'comment', \t$('[name=\"comment\"]', form).val());\n   \n\n    files.each(function (key, file) {\n        let cont = file.files;\n        if ( cont ) {\n            $.each( cont, function( key, value ) {\n                data.append( key, value );\n            console.log(data);\n        });\n        }\n    });\n    \n    $.ajax({\n        url: 'ajax.php',\n        type: 'POST',\n        data: data,\n        cache: false,\n        dataType: 'json',\n        processData: false,\n        contentType: false,\n        xhr: function() {\n            let myXhr = $.ajaxSettings.xhr();\n\n            if ( myXhr.upload ) {\n                myXhr.upload.addEventListener( 'progress', function(e) {\n                    if ( e.lengthComputable ) {\n                        let percentage = ( e.loaded / e.total ) * 100;\n                            percentage = percentage.toFixed(0);\n                        $('.submit', form)\n                            .html( percentage + '%' );\n                    }\n                }, false );\n            }\n\n            return myXhr;\n        },\n        error: function( jqXHR, textStatus ) {\n            // Тут выводим ошибку\n        },\n        complete: function() {\n            // Тут можем что-то делать ПОСЛЕ успешной отправки формы\n            form.reset() \n        }\n    });\n\n    return false;\n});"],"names":["$","on","event","preventDefault","form","this","data","FormData","files","val","attr","append","each","key1","file","cont","key","value","console","log","ajax","url","type","cache","dataType","processData","contentType","xhr","myXhr","ajaxSettings","upload","addEventListener","e","lengthComputable","percentage","loaded","total","toFixed","html","error","jqXHR","textStatus","complete","reset"],"version":3,"file":"index.fa7fa364.js.map"}